$(document).ready(function(){function a(){$(window).width()>1024?($(".sidebar").addClass("open"),$(".contentbox").addClass("open"),$("#hamb").addClass("open")):($(".sidebar").removeClass("open"),$(".contentbox").removeClass("open"),$("#hamb").removeClass("open"))}if(a(),$(window).resize(function(){a()}),$(".login").on("click",function(){$("#myModal").css("display","flex")}),$("#myModal .close").on("click",function(){$("#myModal").css("display","none")}),$("#compose-button").on("click",function(){$("#modalCompose").css("display","block"),$("body").addClass("modalOpen")}),$("#modalCompose .close").on("click",function(){$("#modalCompose").css("display","none"),$("body").removeClass("modalOpen")}),$("#event-button").on("click",function(){$("#modalEvent").css("display","block"),$("body").addClass("modalOpen")}),$("#modalEvent .close").on("click",function(){$("#modalEvent").css("display","none"),$("body").removeClass("modalOpen")}),$("#ticket-button").on("click",function(){$("#modalTickets").css("display","block"),$("body").addClass("modalOpen")}),$("#modalTickets .close").on("click",function(){$("#modalTickets").css("display","none"),$("body").removeClass("modalOpen")}),$(".ticket-open").on("click",function(){$(this).parent().siblings(".collapsible").toggleClass("down")}),$("#hamb").click(function(){$(this).toggleClass("open"),$(".sidebar").toggleClass("open"),$(".contentbox").toggleClass("open");var a=$(".chart").width();$("#home-chart").css("width",a)}),$(".notifications").on("click",function(){$(".notifications-pop").toggleClass("active")}),document.getElementById("home-chart")){const a=document.getElementById("home-chart").getContext("2d");new Chart(a,{type:"horizontalBar",data:{labels:["José","Margarida","Paula","João"],datasets:[{label:"Vendas do Mês",data:[1254,1994,323,1597],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},responsive:!0,maintainAspectRatio:!1,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}function t(a){var t=new Date,n=t.getMonth()+1,e=t.getDate(),s=t.getYear(),l=[];for(i=0;i<5;i++)c(1==n||3==n||5==n||7==n||8==n||10==n||12==n?31:4==n||6==n||9==n||11==n?30:s%4==0&&s%100!=0||s%400==0?29:28);function c(a){e+i<=a?l[i]=e+i+"/"+n:l[i]=Math.abs(e+i-a)+"/"+(n+1)}$("#meteo-city").html(a.city.name),$("#iconDay1").html(o(a.list[0].weather[0].id)),$("#tempDay1").html(Math.round(a.list[0].main.temp)+"<span>º</span>"),$("#dateDay1").html(l[0]),$("#iconDay2").html(o(a.list[7].weather[0].id)),$("#tempDay2").html(Math.round(a.list[7].main.temp)+"<span>º</span>"),$("#dateDay2").html(l[1]),$("#iconDay3").html(o(a.list[14].weather[0].id)),$("#tempDay3").html(Math.round(a.list[14].main.temp)+"<span>º</span>"),$("#dateDay3").html(l[2]),$("#iconDay4").html(o(a.list[21].weather[0].id)),$("#tempDay4").html(Math.round(a.list[21].main.temp)+"<span>º</span>"),$("#dateDay4").html(l[3]),$("#iconDay5").html(o(a.list[28].weather[0].id)),$("#tempDay5").html(Math.round(a.list[28].main.temp)+"<span>º</span>"),$("#dateDay5").html(l[4])}function o(a){var t="";return a>=200&&a<300?t="thunderstorm":a>=300&&a<400?t="rain-mix":a>=500&&a<600?t="rain":a>=600&&a<700?t="snow":a>=700&&a<800?t="fog":800==a?t="day-sunny":a>800&&a<900&&(t="cloud"),t="<i class='wi wi-"+t+"'></i>"}$(".product-selector .button-selector").on("click",function(){var a=$(this).siblings("input").val();if($(this).hasClass("add")){var t=parseInt(a)+1;$(this).siblings("input").val(t)}else if($(this).hasClass("remove")){t=parseInt(a)-1<=0?0:parseInt(a)-1;$(this).siblings("input").val(t)}}),navigator.geolocation.watchPosition(function(a){!function(a,o){$.ajax({url:"https://api.openweathermap.org/data/2.5/forecast?lang=pt&lat="+a+"&lon="+o+"&APPID=b7aaa3a349294d5706002e82df3de1ea&units=metric",success:function(a){console.log(a),t(a)}})}(a.coords.latitude,a.coords.longitude)},function(a){a.code==a.PERMISSION_DENIED&&$.ajax({url:"https://api.openweathermap.org/data/2.5/forecast?lang=pt&APPID=b7aaa3a349294d5706002e82df3de1ea&units=metric&q=Lisbon,PT",success:function(a){t(a)}})})});